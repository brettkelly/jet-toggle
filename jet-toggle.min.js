
const containerSelector=".jt-toggle-container";const buttonSelector=".jt-button";const activeClass="jt-content-active";const buttonClassPattern=/^jt-button-[0-9]+$/;function activateFirstContentElement(parent){let selector=":scope .jt-content";parent.querySelector(selector).classList.add(activeClass);}
function hideAllContentElements(parent,showFirst){let selector=":scope .jt-content";parent.querySelectorAll(selector).forEach(function(item){item.classList.remove(activeClass);});if(showFirst){activateFirstContentElement(parent);}}
function getPostIdFromClassList(element){let retid=null;element.classList.forEach(name=>{if(buttonClassPattern.test(name)){let parts=name.split("-");retid=parts[parts.length-1];}});if(retid){return retid;}
return false;}
function onButtonClick(event){let container=event.target.closest(containerSelector);if(container){hideAllContentElements(container,false);let pid=getPostIdFromClassList(event.target.closest(buttonSelector));if(pid){let selector=":scope .jt-content-"+pid;container.querySelector(selector).classList.add(activeClass);}}}
document.addEventListener("DOMContentLoaded",function(event){let containers=document.querySelectorAll(containerSelector);containers.forEach(function(element){hideAllContentElements(element,true);});let buttons=document.querySelectorAll(buttonSelector);buttons.forEach(function(element){element.addEventListener("click",onButtonClick);});});